"use strict";var _wildcardUtils=_interopRequireDefault(require("wildcard-utils"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}const WC=new _wildcardUtils.default,handleWildcardFind=function(a,b,c){if(a&&("string"==typeof a||"object"==typeof a||a instanceof Set)){const d=WC.search(a);Array.isArray(d)&&d.length&&d.forEach(a=>{const d=c.get(a);d instanceof Set&&d.forEach(a=>b.add(a))})}else return null},prepareWildcardSearch=function(a,b){WC.pattern([...b.keys()].filter(a=>"string"==typeof a))};function addWildcardMiddleware(a){if(!a)throw new Error("addWildcardMiddleware expects a pubchan as its argument");return a.setMiddleware(handleWildcardFind,prepareWildcardSearch),a}var _default=addWildcardMiddleware;exports.default=_default;