'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _wildcardUtils=require('wildcard-utils'),_wildcardUtils2=_interopRequireDefault(_wildcardUtils);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}const WC=new _wildcardUtils2.default,handleWildcardFind=function(a,b,c){if(a&&('string'==typeof a||'object'==typeof a||a instanceof Set)){const d=WC.search(a);Array.isArray(d)&&d.length&&d.forEach((a)=>{const d=c.get(a);d instanceof Set&&d.forEach((a)=>b.add(a))})}else return null},prepareWildcardSearch=function(a,b){WC.pattern([...b.keys()].filter((a)=>'string'==typeof a))};function addWildcardMiddleware(a){if(!a)throw new Error('addWildcardMiddleware expects a pubchan as its argument');return a.setMiddleware(handleWildcardFind,prepareWildcardSearch),a}exports.default=addWildcardMiddleware;